<svg width="800" height="650" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; text-anchor: middle; }
      .actor { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }
      .usecase { font-family: Arial, sans-serif; font-size: 10px; text-anchor: middle; }
      .system-boundary { fill: none; stroke: #333; stroke-width: 2; stroke-dasharray: 5,5; }
      .actor-line { stroke: #333; stroke-width: 1; }
      .usecase-oval { fill: #e1f5fe; stroke: #333; stroke-width: 1; }
      .actor-stick { fill: none; stroke: #333; stroke-width: 2; }
    </style>
  </defs>
  
  <!-- Title -->
  <text x="400" y="30" class="title">Use Case Diagram - Modul Pemeriksaan Diabetes Melitus</text>
  
  <!-- System Boundary -->
  <rect x="200" y="80" width="500" height="450" class="system-boundary" rx="10"/>
  <text x="450" y="100" class="actor" font-weight="bold">Sistem Pemeriksaan Diabetes Melitus</text>
  
  <!-- Actor: Petugas Puskesmas -->
  <g id="petugas">
    <circle cx="100" cy="280" r="15" fill="#4caf50" stroke="#333" stroke-width="2"/>
    <line x1="100" y1="295" x2="100" y2="330" class="actor-stick"/>
    <line x1="85" y1="310" x2="115" y2="310" class="actor-stick"/>
    <line x1="100" y1="330" x2="85" y2="360" class="actor-stick"/>
    <line x1="100" y1="330" x2="115" y2="360" class="actor-stick"/>
    <text x="100" y="380" class="actor">Petugas</text>
    <text x="100" y="395" class="actor">Puskesmas</text>
  </g>
  
  <!-- Use Cases -->
  <!-- Record DM Examination -->
  <ellipse cx="350" cy="150" rx="80" ry="25" class="usecase-oval"/>
  <text x="350" y="155" class="usecase">Record DM Examination</text>
  
  <!-- View DM Examinations -->
  <ellipse cx="550" cy="150" rx="80" ry="25" class="usecase-oval"/>
  <text x="550" y="155" class="usecase">View DM Examinations</text>
  
  <!-- Update DM Examination -->
  <ellipse cx="350" cy="220" rx="85" ry="25" class="usecase-oval"/>
  <text x="350" y="225" class="usecase">Update DM Examination</text>
  
  <!-- Delete DM Examination -->
  <ellipse cx="550" cy="220" rx="85" ry="25" class="usecase-oval"/>
  <text x="550" y="225" class="usecase">Delete DM Examination</text>
  
  <!-- Select Examination Type -->
  <ellipse cx="350" cy="290" rx="85" ry="25" class="usecase-oval"/>
  <text x="350" y="295" class="usecase">Select Exam Type</text>
  
  <!-- Filter by Test Type -->
  <ellipse cx="550" cy="290" rx="80" ry="25" class="usecase-oval"/>
  <text x="550" y="295" class="usecase">Filter by Test Type</text>
  
  <!-- Calculate Control Status -->
  <ellipse cx="350" cy="360" rx="85" ry="25" class="usecase-oval"/>
  <text x="350" y="365" class="usecase">Calculate Control Status</text>
  
  <!-- Generate DM Report -->
  <ellipse cx="550" cy="360" rx="80" ry="25" class="usecase-oval"/>
  <text x="550" y="365" class="usecase">Generate DM Report</text>
  
  <!-- Validate Test Result -->
  <ellipse cx="450" cy="430" rx="85" ry="25" class="usecase-oval"/>
  <text x="450" y="435" class="usecase">Validate Test Result</text>
  
  <!-- Connections from Petugas Puskesmas -->
  <line x1="115" y1="250" x2="270" y2="150" class="actor-line"/>
  <line x1="115" y1="260" x2="470" y2="150" class="actor-line"/>
  <line x1="115" y1="270" x2="265" y2="220" class="actor-line"/>
  <line x1="115" y1="280" x2="465" y2="220" class="actor-line"/>
  <line x1="115" y1="290" x2="265" y2="290" class="actor-line"/>
  <line x1="115" y1="300" x2="470" y2="290" class="actor-line"/>
  <line x1="115" y1="310" x2="265" y2="360" class="actor-line"/>
  <line x1="115" y1="320" x2="470" y2="360" class="actor-line"/>
  <line x1="115" y1="330" x2="365" y2="430" class="actor-line"/>
  
  <!-- Include relationships -->
  <g stroke="#666" stroke-dasharray="3,3" fill="none">
    <!-- Record includes Select Exam Type -->
    <line x1="350" y1="175" x2="350" y2="265"/>
    <text x="355" y="220" class="usecase" font-size="8" fill="#666">«include»</text>
    
    <!-- Record includes Calculate Control Status -->
    <line x1="350" y1="175" x2="350" y2="335"/>
    <text x="355" y="255" class="usecase" font-size="8" fill="#666">«include»</text>
    
    <!-- Record includes Validate Test Result -->
    <line x1="380" y1="175" x2="420" y2="405"/>
    <text x="400" y="290" class="usecase" font-size="8" fill="#666">«include»</text>
    
    <!-- Update includes View -->
    <line x1="435" y1="205" x2="470" y2="165"/>
    <text x="452" y="185" class="usecase" font-size="8" fill="#666">«include»</text>
    
    <!-- Delete includes View -->
    <line x1="550" y1="195" x2="550" y2="175"/>
    <text x="555" y="185" class="usecase" font-size="8" fill="#666">«include»</text>
    
    <!-- Filter extends View -->
    <line x1="550" y1="265" x2="550" y2="175"/>
    <text x="555" y="220" class="usecase" font-size="8" fill="#666">«extend»</text>
    
    <!-- Generate Report extends View -->
    <line x1="550" y1="335" x2="550" y2="175"/>
    <text x="555" y="255" class="usecase" font-size="8" fill="#666">«extend»</text>
  </g>
  
  <!-- Use Case Details -->
  <text x="220" y="480" class="usecase" font-size="9" fill="#666">
    <tspan x="220" dy="0">UC-DM-001: Record DM Examination</tspan>
    <tspan x="220" dy="12">UC-DM-002: View DM Examinations</tspan>
    <tspan x="220" dy="12">UC-DM-003: Update DM Examination</tspan>
    <tspan x="220" dy="12">UC-DM-004: Delete DM Examination</tspan>
  </text>
  
  <!-- Test Types and Control Criteria -->
  <rect x="50" y="450" width="160" height="100" fill="#e8f5e8" stroke="#4caf50" stroke-width="1" rx="5"/>
  <text x="130" y="465" class="usecase" font-weight="bold" font-size="9">Jenis Tes & Kriteria:</text>
  <text x="60" y="480" class="usecase" font-size="8">
    <tspan x="60" dy="0">HbA1c:</tspan>
    <tspan x="60" dy="12">• Terkontrol: &lt; 7%</tspan>
    <tspan x="60" dy="12">• Tidak terkontrol: ≥ 7%</tspan>
    <tspan x="60" dy="24">GDP (Gula Darah Puasa):</tspan>
    <tspan x="60" dy="12">• Terkontrol: &lt; 126 mg/dL</tspan>
    <tspan x="60" dy="12">• Tidak terkontrol: ≥ 126 mg/dL</tspan>
  </text>
  
  <!-- Examination Data Fields -->
  <rect x="550" y="450" width="180" height="120" fill="#fff3e0" stroke="#ff9800" stroke-width="1" rx="5"/>
  <text x="640" y="465" class="usecase" font-weight="bold" font-size="9">Data Pemeriksaan:</text>
  <text x="560" y="480" class="usecase" font-size="8">
    <tspan x="560" dy="0">• ID Pasien</tspan>
    <tspan x="560" dy="12">• Tanggal Pemeriksaan</tspan>
    <tspan x="560" dy="12">• Jenis Tes (HbA1c/GDP)</tspan>
    <tspan x="560" dy="12">• Hasil Pemeriksaan</tspan>
    <tspan x="560" dy="12">• Status Terkontrol (auto)</tspan>
    <tspan x="560" dy="12">• Tahun & Bulan</tspan>
    <tspan x="560" dy="12">• Status Arsip</tspan>
    <tspan x="560" dy="12">• Kunjungan Pertama</tspan>
  </text>
  
  <!-- Legend -->
  <rect x="50" y="580" width="700" height="60" fill="#f5f5f5" stroke="#ccc" stroke-width="1" rx="5"/>
  <text x="60" y="600" class="usecase" font-weight="bold">Keterangan:</text>
  <text x="60" y="615" class="usecase" font-size="9">
    <tspan x="60" dy="0">• Sistem mendukung dua jenis tes: HbA1c dan GDP dengan kriteria kontrol berbeda</tspan>
    <tspan x="60" dy="12">• Status terkontrol dihitung otomatis berdasarkan jenis tes dan hasil pemeriksaan</tspan>
    <tspan x="60" dy="12">• Filter tersedia berdasarkan jenis tes, pasien, tanggal, dan status terkontrol</tspan>
  </text>
</svg>