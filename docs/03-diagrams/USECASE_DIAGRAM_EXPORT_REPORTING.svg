<svg width="900" height="700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; text-anchor: middle; }
      .actor { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }
      .usecase { font-family: Arial, sans-serif; font-size: 10px; text-anchor: middle; }
      .system-boundary { fill: none; stroke: #333; stroke-width: 2; stroke-dasharray: 5,5; }
      .actor-line { stroke: #333; stroke-width: 1; }
      .usecase-oval { fill: #fff8e1; stroke: #333; stroke-width: 1; }
      .actor-stick { fill: none; stroke: #333; stroke-width: 2; }
    </style>
  </defs>
  
  <!-- Title -->
  <text x="450" y="30" class="title">Use Case Diagram - Modul Export dan Pelaporan</text>
  
  <!-- System Boundary -->
  <rect x="200" y="80" width="600" height="520" class="system-boundary" rx="10"/>
  <text x="500" y="100" class="actor" font-weight="bold">Sistem Export dan Pelaporan</text>
  
  <!-- Actors -->
  <!-- Admin -->
  <g id="admin">
    <circle cx="100" cy="200" r="15" fill="#ffeb3b" stroke="#333" stroke-width="2"/>
    <line x1="100" y1="215" x2="100" y2="250" class="actor-stick"/>
    <line x1="85" y1="230" x2="115" y2="230" class="actor-stick"/>
    <line x1="100" y1="250" x2="85" y2="280" class="actor-stick"/>
    <line x1="100" y1="250" x2="115" y2="280" class="actor-stick"/>
    <text x="100" y="300" class="actor">Admin</text>
    <text x="100" y="315" class="actor" font-size="9">(Dinas Kesehatan)</text>
  </g>
  
  <!-- Petugas Puskesmas -->
  <g id="petugas">
    <circle cx="100" cy="400" r="15" fill="#4caf50" stroke="#333" stroke-width="2"/>
    <line x1="100" y1="415" x2="100" y2="450" class="actor-stick"/>
    <line x1="85" y1="430" x2="115" y2="430" class="actor-stick"/>
    <line x1="100" y1="450" x2="85" y2="480" class="actor-stick"/>
    <line x1="100" y1="450" x2="115" y2="480" class="actor-stick"/>
    <text x="100" y="500" class="actor">Petugas</text>
    <text x="100" y="515" class="actor">Puskesmas</text>
  </g>
  
  <!-- Use Cases Row 1 - Patient Data Export -->
  <!-- Export Patient Data -->
  <ellipse cx="350" cy="150" rx="80" ry="25" class="usecase-oval"/>
  <text x="350" y="155" class="usecase">Export Patient Data</text>
  
  <!-- Select Export Format -->
  <ellipse cx="550" cy="150" rx="80" ry="25" class="usecase-oval"/>
  <text x="550" y="155" class="usecase">Select Export Format</text>
  
  <!-- Filter Export Data -->
  <ellipse cx="700" cy="150" rx="75" ry="25" class="usecase-oval"/>
  <text x="700" y="155" class="usecase">Filter Export Data</text>
  
  <!-- Use Cases Row 2 - Reports -->
  <!-- Generate Monthly Report -->
  <ellipse cx="350" cy="220" rx="85" ry="25" class="usecase-oval"/>
  <text x="350" y="225" class="usecase">Generate Monthly Report</text>
  
  <!-- Generate Quarterly Report -->
  <ellipse cx="550" cy="220" rx="85" ry="25" class="usecase-oval"/>
  <text x="550" y="225" class="usecase">Generate Quarterly Report</text>
  
  <!-- Generate Annual Report -->
  <ellipse cx="700" cy="220" rx="80" ry="25" class="usecase-oval"/>
  <text x="700" y="225" class="usecase">Generate Annual Report</text>
  
  <!-- Use Cases Row 3 - Statistics Export -->
  <!-- Export Statistics Data -->
  <ellipse cx="350" cy="290" rx="85" ry="25" class="usecase-oval"/>
  <text x="350" y="295" class="usecase">Export Statistics Data</text>
  
  <!-- Export Examination Data -->
  <ellipse cx="550" cy="290" rx="90" ry="25" class="usecase-oval"/>
  <text x="550" y="295" class="usecase">Export Examination Data</text>
  
  <!-- Export Target Progress -->
  <ellipse cx="700" cy="290" rx="85" ry="25" class="usecase-oval"/>
  <text x="700" y="295" class="usecase">Export Target Progress</text>
  
  <!-- Use Cases Row 4 - File Management -->
  <!-- Download File -->
  <ellipse cx="350" cy="360" rx="70" ry="25" class="usecase-oval"/>
  <text x="350" y="365" class="usecase">Download File</text>
  
  <!-- Schedule Export -->
  <ellipse cx="550" cy="360" rx="75" ry="25" class="usecase-oval"/>
  <text x="550" y="365" class="usecase">Schedule Export</text>
  
  <!-- Validate Export Data -->
  <ellipse cx="700" cy="360" rx="85" ry="25" class="usecase-oval"/>
  <text x="700" y="365" class="usecase">Validate Export Data</text>
  
  <!-- Use Cases Row 5 - Templates -->
  <!-- Select Report Template -->
  <ellipse cx="450" cy="430" rx="90" ry="25" class="usecase-oval"/>
  <text x="450" y="435" class="usecase">Select Report Template</text>
  
  <!-- Customize Report -->
  <ellipse cx="600" cy="430" rx="75" ry="25" class="usecase-oval"/>
  <text x="600" y="435" class="usecase">Customize Report</text>
  
  <!-- Connections from Admin -->
  <line x1="115" y1="180" x2="270" y2="150" class="actor-line"/>
  <line x1="115" y1="190" x2="470" y2="150" class="actor-line"/>
  <line x1="115" y1="200" x2="625" y2="150" class="actor-line"/>
  <line x1="115" y1="210" x2="265" y2="220" class="actor-line"/>
  <line x1="115" y1="220" x2="465" y2="220" class="actor-line"/>
  <line x1="115" y1="230" x2="620" y2="220" class="actor-line"/>
  <line x1="115" y1="240" x2="265" y2="290" class="actor-line"/>
  <line x1="115" y1="250" x2="460" y2="290" class="actor-line"/>
  <line x1="115" y1="260" x2="615" y2="290" class="actor-line"/>
  <line x1="115" y1="270" x2="280" y2="360" class="actor-line"/>
  <line x1="115" y1="280" x2="475" y2="360" class="actor-line"/>
  <line x1="115" y1="290" x2="615" y2="360" class="actor-line"/>
  <line x1="115" y1="300" x2="360" y2="430" class="actor-line"/>
  <line x1="115" y1="310" x2="525" y2="430" class="actor-line"/>
  
  <!-- Connections from Petugas Puskesmas -->
  <line x1="115" y1="380" x2="270" y2="150" class="actor-line"/>
  <line x1="115" y1="390" x2="470" y2="150" class="actor-line"/>
  <line x1="115" y1="400" x2="625" y2="150" class="actor-line"/>
  <line x1="115" y1="410" x2="265" y2="220" class="actor-line"/>
  <line x1="115" y1="420" x2="465" y2="220" class="actor-line"/>
  <line x1="115" y1="430" x2="620" y2="220" class="actor-line"/>
  <line x1="115" y1="440" x2="265" y2="290" class="actor-line"/>
  <line x1="115" y1="450" x2="460" y2="290" class="actor-line"/>
  <line x1="115" y1="460" x2="280" y2="360" class="actor-line"/>
  <line x1="115" y1="470" x2="475" y2="360" class="actor-line"/>
  <line x1="115" y1="480" x2="615" y2="360" class="actor-line"/>
  <line x1="115" y1="490" x2="360" y2="430" class="actor-line"/>
  <line x1="115" y1="500" x2="525" y2="430" class="actor-line"/>
  
  <!-- Include relationships -->
  <g stroke="#666" stroke-dasharray="3,3" fill="none">
    <!-- Export includes Select Format -->
    <line x1="430" y1="150" x2="470" y2="150"/>
    <text x="450" y="145" class="usecase" font-size="8" fill="#666">«include»</text>
    
    <!-- Export includes Filter -->
    <line x1="430" y1="150" x2="625" y2="150"/>
    <text x="527" y="145" class="usecase" font-size="8" fill="#666">«include»</text>
    
    <!-- Reports include Template -->
    <line x1="400" y1="245" x2="400" y2="405"/>
    <text x="405" y="325" class="usecase" font-size="8" fill="#666">«include»</text>
    
    <!-- Export includes Validate -->
    <line x1="430" y1="175" x2="615" y2="335"/>
    <text x="522" y="255" class="usecase" font-size="8" fill="#666">«include»</text>
    
    <!-- All exports include Download -->
    <line x1="350" y1="175" x2="350" y2="335"/>
    <text x="355" y="255" class="usecase" font-size="8" fill="#666">«include»</text>
  </g>
  
  <!-- Use Case Details -->
  <text x="220" y="520" class="usecase" font-size="9" fill="#666">
    <tspan x="220" dy="0">UC-EXPORT-001: Export Patient Data</tspan>
    <tspan x="220" dy="12">UC-EXPORT-002: Generate Monthly Report</tspan>
    <tspan x="220" dy="12">UC-EXPORT-003: Generate Quarterly Report</tspan>
    <tspan x="220" dy="12">UC-EXPORT-004: Generate Annual Report</tspan>
    <tspan x="220" dy="12">UC-EXPORT-005: Export Statistics Data</tspan>
  </text>
  
  <!-- Export Formats -->
  <rect x="50" y="550" width="150" height="120" fill="#e3f2fd" stroke="#2196f3" stroke-width="1" rx="5"/>
  <text x="125" y="565" class="usecase" font-weight="bold" font-size="9">Format Export:</text>
  <text x="60" y="580" class="usecase" font-size="8">
    <tspan x="60" dy="0">• Excel (.xlsx)</tspan>
    <tspan x="60" dy="12">• PDF (.pdf)</tspan>
    <tspan x="60" dy="12">• CSV (.csv)</tspan>
    <tspan x="60" dy="24">Template Laporan:</tspan>
    <tspan x="60" dy="12">• Laporan Bulanan</tspan>
    <tspan x="60" dy="12">• Laporan Kuartalan</tspan>
    <tspan x="60" dy="12">• Laporan Tahunan</tspan>
    <tspan x="60" dy="12">• Custom Template</tspan>
  </text>
  
  <!-- Filter Options -->
  <rect x="220" y="550" width="180" height="120" fill="#fff3e0" stroke="#ff9800" stroke-width="1" rx="5"/>
  <text x="310" y="565" class="usecase" font-weight="bold" font-size="9">Opsi Filter:</text>
  <text x="230" y="580" class="usecase" font-size="8">
    <tspan x="230" dy="0">• Periode (tanggal mulai-selesai)</tspan>
    <tspan x="230" dy="12">• Jenis penyakit (HT/DM/semua)</tspan>
    <tspan x="230" dy="12">• Status terkontrol</tspan>
    <tspan x="230" dy="12">• Puskesmas (admin only)</tspan>
    <tspan x="230" dy="12">• Usia pasien</tspan>
    <tspan x="230" dy="12">• Jenis kelamin</tspan>
    <tspan x="230" dy="12">• Kunjungan pertama</tspan>
    <tspan x="230" dy="12">• Status arsip</tspan>
  </text>
  
  <!-- Report Content -->
  <rect x="420" y="550" width="180" height="120" fill="#e8f5e8" stroke="#4caf50" stroke-width="1" rx="5"/>
  <text x="510" y="565" class="usecase" font-weight="bold" font-size="9">Isi Laporan:</text>
  <text x="430" y="580" class="usecase" font-size="8">
    <tspan x="430" dy="0">• Ringkasan eksekutif</tspan>
    <tspan x="430" dy="12">• Statistik pasien</tspan>
    <tspan x="430" dy="12">• Data pemeriksaan</tspan>
    <tspan x="430" dy="12">• Pencapaian target</tspan>
    <tspan x="430" dy="12">• Grafik dan chart</tspan>
    <tspan x="430" dy="12">• Tren dan analisis</tspan>
    <tspan x="430" dy="12">• Rekomendasi</tspan>
    <tspan x="430" dy="12">• Lampiran data</tspan>
  </text>
  
  <!-- Export Features -->
  <rect x="620" y="550" width="180" height="120" fill="#f3e5f5" stroke="#9c27b0" stroke-width="1" rx="5"/>
  <text x="710" y="565" class="usecase" font-weight="bold" font-size="9">Fitur Export:</text>
  <text x="630" y="580" class="usecase" font-size="8">
    <tspan x="630" dy="0">• Export on-demand</tspan>
    <tspan x="630" dy="12">• Scheduled export</tspan>
    <tspan x="630" dy="12">• Background processing</tspan>
    <tspan x="630" dy="12">• Progress indicator</tspan>
    <tspan x="630" dy="12">• Email notification</tspan>
    <tspan x="630" dy="12">• File compression</tspan>
    <tspan x="630" dy="12">• Secure download link</tspan>
    <tspan x="630" dy="12">• Auto-cleanup files</tspan>
  </text>
  
  <!-- Legend -->
  <rect x="50" y="680" width="750" height="15" fill="#f5f5f5" stroke="#ccc" stroke-width="1" rx="5"/>
  <text x="60" y="692" class="usecase" font-size="9">
    <tspan x="60" dy="0">Keterangan: Admin dapat mengekspor data semua puskesmas, Petugas hanya data puskesmas sendiri. Export mendukung berbagai format dan filter untuk fleksibilitas pelaporan.</tspan>
  </text>
</svg>