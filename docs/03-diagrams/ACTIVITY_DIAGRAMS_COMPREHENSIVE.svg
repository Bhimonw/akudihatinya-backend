<svg width="1600" height="2000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .start-end { fill: #4caf50; stroke: #2e7d32; stroke-width: 2; }
      .activity { fill: #e3f2fd; stroke: #1976d2; stroke-width: 2; }
      .decision { fill: #fff3e0; stroke: #f57c00; stroke-width: 2; }
      .process { fill: #f3e5f5; stroke: #7b1fa2; stroke-width: 2; }
      .text { fill: #212121; font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; }
      .title { fill: #1a237e; font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; text-anchor: middle; }
      .subtitle { fill: #424242; font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; text-anchor: middle; }
      .flow { stroke: #424242; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .swimlane { fill: none; stroke: #9e9e9e; stroke-width: 1; stroke-dasharray: 5,5; }
      .swimlane-title { fill: #616161; font-family: Arial, sans-serif; font-size: 12px; font-weight: bold; }
      .error { fill: #ffebee; stroke: #d32f2f; stroke-width: 2; }
    </style>
    <defs>
      <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
        <polygon points="0 0, 10 3.5, 0 7" fill="#424242"/>
      </marker>
    </defs>
  </defs>
  
  <!-- Title -->
  <text x="800" y="30" class="title">Activity Diagrams - Akudihatinya System</text>
  
  <!-- Activity Diagram 1: User Authentication -->
  <text x="200" y="70" class="subtitle">1. User Authentication Process</text>
  
  <!-- Swimlanes for Authentication -->
  <rect x="50" y="90" width="150" height="400" class="swimlane"/>
  <text x="125" y="110" class="swimlane-title">User</text>
  
  <rect x="200" y="90" width="150" height="400" class="swimlane"/>
  <text x="275" y="110" class="swimlane-title">System</text>
  
  <rect x="350" y="90" width="150" height="400" class="swimlane"/>
  <text x="425" y="110" class="swimlane-title">Database</text>
  
  <!-- Authentication Flow -->
  <ellipse cx="125" cy="140" rx="40" ry="15" class="start-end"/>
  <text x="125" y="145" class="text">Start</text>
  
  <rect x="85" y="170" width="80" height="30" class="activity"/>
  <text x="125" y="190" class="text">Enter Credentials</text>
  
  <rect x="235" y="220" width="80" height="30" class="activity"/>
  <text x="275" y="240" class="text">Validate Input</text>
  
  <polygon points="250,270 300,285 250,300 200,285" class="decision"/>
  <text x="250" y="290" class="text">Valid?</text>
  
  <rect x="385" y="320" width="80" height="30" class="process"/>
  <text x="425" y="340" class="text">Check Database</text>
  
  <polygon points="400,370 450,385 400,400 350,385" class="decision"/>
  <text x="400" y="390" class="text">User Found?</text>
  
  <rect x="235" y="420" width="80" height="30" class="activity"/>
  <text x="275" y="440" class="text">Generate Token</text>
  
  <rect x="85" y="420" width="80" height="30" class="error"/>
  <text x="125" y="440" class="text">Show Error</text>
  
  <ellipse cx="275" cy="470" rx="40" ry="15" class="start-end"/>
  <text x="275" y="475" class="text">End</text>
  
  <!-- Authentication Flow Lines -->
  <line x1="125" y1="155" x2="125" y2="170" class="flow"/>
  <line x1="125" y1="200" x2="275" y2="220" class="flow"/>
  <line x1="275" y1="250" x2="250" y2="270" class="flow"/>
  <line x1="300" y1="285" x2="425" y2="320" class="flow"/>
  <line x1="425" y1="350" x2="400" y2="370" class="flow"/>
  <line x1="400" y1="400" x2="275" y2="420" class="flow"/>
  <line x1="200" y1="285" x2="125" y2="420" class="flow"/>
  <line x1="275" y1="450" x2="275" y2="455" class="flow"/>
  <line x1="125" y1="450" x2="275" y2="455" class="flow"/>
  
  <!-- Activity Diagram 2: Patient Registration -->
  <text x="700" y="70" class="subtitle">2. Patient Registration Process</text>
  
  <!-- Swimlanes for Patient Registration -->
  <rect x="550" y="90" width="150" height="400" class="swimlane"/>
  <text x="625" y="110" class="swimlane-title">Petugas Puskesmas</text>
  
  <rect x="700" y="90" width="150" height="400" class="swimlane"/>
  <text x="775" y="110" class="swimlane-title">System</text>
  
  <rect x="850" y="90" width="150" height="400" class="swimlane"/>
  <text x="925" y="110" class="swimlane-title">Database</text>
  
  <!-- Patient Registration Flow -->
  <ellipse cx="625" cy="140" rx="40" ry="15" class="start-end"/>
  <text x="625" y="145" class="text">Start</text>
  
  <rect x="585" y="170" width="80" height="30" class="activity"/>
  <text x="625" y="190" class="text">Fill Patient Form</text>
  
  <rect x="735" y="220" width="80" height="30" class="activity"/>
  <text x="775" y="240" class="text">Validate Data</text>
  
  <polygon points="750,270 800,285 750,300 700,285" class="decision"/>
  <text x="750" y="290" class="text">Valid?</text>
  
  <rect x="885" y="320" width="80" height="30" class="process"/>
  <text x="925" y="340" class="text">Save Patient</text>
  
  <rect x="735" y="370" width="80" height="30" class="activity"/>
  <text x="775" y="390" class="text">Generate Patient ID</text>
  
  <rect x="585" y="420" width="80" height="30" class="activity"/>
  <text x="625" y="440" class="text">Show Success</text>
  
  <rect x="585" y="320" width="80" height="30" class="error"/>
  <text x="625" y="340" class="text">Show Validation Error</text>
  
  <ellipse cx="625" cy="470" rx="40" ry="15" class="start-end"/>
  <text x="625" y="475" class="text">End</text>
  
  <!-- Patient Registration Flow Lines -->
  <line x1="625" y1="155" x2="625" y2="170" class="flow"/>
  <line x1="625" y1="200" x2="775" y2="220" class="flow"/>
  <line x1="775" y1="250" x2="750" y2="270" class="flow"/>
  <line x1="800" y1="285" x2="925" y2="320" class="flow"/>
  <line x1="925" y1="350" x2="775" y2="370" class="flow"/>
  <line x1="775" y1="400" x2="625" y2="420" class="flow"/>
  <line x1="700" y1="285" x2="625" y2="320" class="flow"/>
  <line x1="625" y1="350" x2="625" y2="455" class="flow"/>
  <line x1="625" y1="450" x2="625" y2="455" class="flow"/>
  
  <!-- Activity Diagram 3: HT Examination Recording -->
  <text x="1200" y="70" class="subtitle">3. HT Examination Recording</text>
  
  <!-- Swimlanes for HT Examination -->
  <rect x="1050" y="90" width="150" height="400" class="swimlane"/>
  <text x="1125" y="110" class="swimlane-title">Petugas Puskesmas</text>
  
  <rect x="1200" y="90" width="150" height="400" class="swimlane"/>
  <text x="1275" y="110" class="swimlane-title">System</text>
  
  <rect x="1350" y="90" width="150" height="400" class="swimlane"/>
  <text x="1425" y="110" class="swimlane-title">Database</text>
  
  <!-- HT Examination Flow -->
  <ellipse cx="1125" cy="140" rx="40" ry="15" class="start-end"/>
  <text x="1125" y="145" class="text">Start</text>
  
  <rect x="1085" y="170" width="80" height="30" class="activity"/>
  <text x="1125" y="190" class="text">Select Patient</text>
  
  <rect x="1085" y="220" width="80" height="30" class="activity"/>
  <text x="1125" y="240" class="text">Record BP Values</text>
  
  <rect x="1235" y="270" width="80" height="30" class="activity"/>
  <text x="1275" y="290" class="text">Calculate Control</text>
  
  <polygon points="1250,320 1300,335 1250,350 1200,335" class="decision"/>
  <text x="1250" y="340" class="text">BP Controlled?</text>
  
  <rect x="1385" y="370" width="80" height="30" class="process"/>
  <text x="1425" y="390" class="text">Save Examination</text>
  
  <rect x="1235" y="420" width="80" height="30" class="activity"/>
  <text x="1275" y="440" class="text">Update Statistics</text>
  
  <ellipse cx="1275" cy="470" rx="40" ry="15" class="start-end"/>
  <text x="1275" y="475" class="text">End</text>
  
  <!-- HT Examination Flow Lines -->
  <line x1="1125" y1="155" x2="1125" y2="170" class="flow"/>
  <line x1="1125" y1="200" x2="1125" y2="220" class="flow"/>
  <line x1="1125" y1="250" x2="1275" y2="270" class="flow"/>
  <line x1="1275" y1="300" x2="1250" y2="320" class="flow"/>
  <line x1="1300" y1="335" x2="1425" y2="370" class="flow"/>
  <line x1="1425" y1="400" x2="1275" y2="420" class="flow"/>
  <line x1="1275" y1="450" x2="1275" y2="455" class="flow"/>
  
  <!-- Activity Diagram 4: Statistics Generation -->
  <text x="200" y="550" class="subtitle">4. Statistics Generation Process</text>
  
  <!-- Swimlanes for Statistics -->
  <rect x="50" y="570" width="150" height="450" class="swimlane"/>
  <text x="125" y="590" class="swimlane-title">User</text>
  
  <rect x="200" y="570" width="150" height="450" class="swimlane"/>
  <text x="275" y="590" class="swimlane-title">System</text>
  
  <rect x="350" y="570" width="150" height="450" class="swimlane"/>
  <text x="425" y="590" class="swimlane-title">Cache</text>
  
  <rect x="500" y="570" width="150" height="450" class="swimlane"/>
  <text x="575" y="590" class="swimlane-title">Database</text>
  
  <!-- Statistics Generation Flow -->
  <ellipse cx="125" cy="620" rx="40" ry="15" class="start-end"/>
  <text x="125" y="625" class="text">Start</text>
  
  <rect x="85" y="650" width="80" height="30" class="activity"/>
  <text x="125" y="670" class="text">Request Statistics</text>
  
  <rect x="235" y="700" width="80" height="30" class="activity"/>
  <text x="275" y="720" class="text">Check Cache</text>
  
  <polygon points="400,750 450,765 400,780 350,765" class="decision"/>
  <text x="400" y="770" class="text">Cache Hit?</text>
  
  <rect x="535" y="800" width="80" height="30" class="process"/>
  <text x="575" y="820" class="text">Query Database</text>
  
  <rect x="235" y="850" width="80" height="30" class="activity"/>
  <text x="275" y="870" class="text">Calculate Stats</text>
  
  <rect x="385" y="900" width="80" height="30" class="process"/>
  <text x="425" y="920" class="text">Store in Cache</text>
  
  <rect x="235" y="950" width="80" height="30" class="activity"/>
  <text x="275" y="970" class="text">Return Results</text>
  
  <ellipse cx="275" cy="1000" rx="40" ry="15" class="start-end"/>
  <text x="275" y="1005" class="text">End</text>
  
  <!-- Statistics Generation Flow Lines -->
  <line x1="125" y1="635" x2="125" y2="650" class="flow"/>
  <line x1="125" y1="680" x2="275" y2="700" class="flow"/>
  <line x1="275" y1="730" x2="400" y2="750" class="flow"/>
  <line x1="450" y1="765" x2="575" y2="800" class="flow"/>
  <line x1="575" y1="830" x2="275" y2="850" class="flow"/>
  <line x1="275" y1="880" x2="425" y2="900" class="flow"/>
  <line x1="425" y1="930" x2="275" y2="950" class="flow"/>
  <line x1="350" y1="765" x2="275" y2="950" class="flow"/>
  <line x1="275" y1="980" x2="275" y2="985" class="flow"/>
  
  <!-- Activity Diagram 5: Report Export -->
  <text x="900" y="550" class="subtitle">5. Report Export Process</text>
  
  <!-- Swimlanes for Report Export -->
  <rect x="750" y="570" width="150" height="450" class="swimlane"/>
  <text x="825" y="590" class="swimlane-title">User</text>
  
  <rect x="900" y="570" width="150" height="450" class="swimlane"/>
  <text x="975" y="590" class="swimlane-title">System</text>
  
  <rect x="1050" y="570" width="150" height="450" class="swimlane"/>
  <text x="1125" y="590" class="swimlane-title">File System</text>
  
  <!-- Report Export Flow -->
  <ellipse cx="825" cy="620" rx="40" ry="15" class="start-end"/>
  <text x="825" y="625" class="text">Start</text>
  
  <rect x="785" y="650" width="80" height="30" class="activity"/>
  <text x="825" y="670" class="text">Select Export Type</text>
  
  <rect x="935" y="700" width="80" height="30" class="activity"/>
  <text x="975" y="720" class="text">Validate Request</text>
  
  <polygon points="950,750 1000,765 950,780 900,765" class="decision"/>
  <text x="950" y="770" class="text">Valid?</text>
  
  <rect x="935" y="800" width="80" height="30" class="activity"/>
  <text x="975" y="820" class="text">Fetch Data</text>
  
  <rect x="935" y="850" width="80" height="30" class="process"/>
  <text x="975" y="870" class="text">Generate File</text>
  
  <rect x="1085" y="900" width="80" height="30" class="process"/>
  <text x="1125" y="920" class="text">Save File</text>
  
  <rect x="935" y="950" width="80" height="30" class="activity"/>
  <text x="975" y="970" class="text">Send Download Link</text>
  
  <rect x="785" y="800" width="80" height="30" class="error"/>
  <text x="825" y="820" class="text">Show Error</text>
  
  <ellipse cx="975" cy="1000" rx="40" ry="15" class="start-end"/>
  <text x="975" y="1005" class="text">End</text>
  
  <!-- Report Export Flow Lines -->
  <line x1="825" y1="635" x2="825" y2="650" class="flow"/>
  <line x1="825" y1="680" x2="975" y2="700" class="flow"/>
  <line x1="975" y1="730" x2="950" y2="750" class="flow"/>
  <line x1="1000" y1="765" x2="975" y2="800" class="flow"/>
  <line x1="975" y1="830" x2="975" y2="850" class="flow"/>
  <line x1="975" y1="880" x2="1125" y2="900" class="flow"/>
  <line x1="1125" y1="930" x2="975" y2="950" class="flow"/>
  <line x1="900" y1="765" x2="825" y2="800" class="flow"/>
  <line x1="825" y1="830" x2="975" y2="985" class="flow"/>
  <line x1="975" y1="980" x2="975" y2="985" class="flow"/>
  
  <!-- Activity Diagram 6: DM Examination Recording -->
  <text x="200" y="1080" class="subtitle">6. DM Examination Recording Process</text>
  
  <!-- Swimlanes for DM Examination -->
  <rect x="50" y="1100" width="150" height="450" class="swimlane"/>
  <text x="125" y="1120" class="swimlane-title">Petugas Puskesmas</text>
  
  <rect x="200" y="1100" width="150" height="450" class="swimlane"/>
  <text x="275" y="1120" class="swimlane-title">System</text>
  
  <rect x="350" y="1100" width="150" height="450" class="swimlane"/>
  <text x="425" y="1120" class="swimlane-title">Database</text>
  
  <!-- DM Examination Flow -->
  <ellipse cx="125" cy="1150" rx="40" ry="15" class="start-end"/>
  <text x="125" y="1155" class="text">Start</text>
  
  <rect x="85" y="1180" width="80" height="30" class="activity"/>
  <text x="125" y="1200" class="text">Select Patient</text>
  
  <rect x="85" y="1230" width="80" height="30" class="activity"/>
  <text x="125" y="1250" class="text">Record Blood Sugar</text>
  
  <rect x="85" y="1280" width="80" height="30" class="activity"/>
  <text x="125" y="1300" class="text">Record HbA1c</text>
  
  <rect x="235" y="1330" width="80" height="30" class="activity"/>
  <text x="275" y="1350" class="text">Calculate Control</text>
  
  <polygon points="250,1380 300,1395 250,1410 200,1395" class="decision"/>
  <text x="250" y="1400" class="text">DM Controlled?</text>
  
  <rect x="385" y="1430" width="80" height="30" class="process"/>
  <text x="425" y="1450" class="text">Save Examination</text>
  
  <rect x="235" y="1480" width="80" height="30" class="activity"/>
  <text x="275" y="1500" class="text">Update Statistics</text>
  
  <ellipse cx="275" cy="1530" rx="40" ry="15" class="start-end"/>
  <text x="275" y="1535" class="text">End</text>
  
  <!-- DM Examination Flow Lines -->
  <line x1="125" y1="1165" x2="125" y2="1180" class="flow"/>
  <line x1="125" y1="1210" x2="125" y2="1230" class="flow"/>
  <line x1="125" y1="1260" x2="125" y2="1280" class="flow"/>
  <line x1="125" y1="1310" x2="275" y2="1330" class="flow"/>
  <line x1="275" y1="1360" x2="250" y2="1380" class="flow"/>
  <line x1="300" y1="1395" x2="425" y2="1430" class="flow"/>
  <line x1="425" y1="1460" x2="275" y2="1480" class="flow"/>
  <line x1="275" y1="1510" x2="275" y2="1515" class="flow"/>
  
  <!-- Activity Diagram 7: Admin Dashboard Data Loading -->
  <text x="900" y="1080" class="subtitle">7. Admin Dashboard Data Loading</text>
  
  <!-- Swimlanes for Admin Dashboard -->
  <rect x="750" y="1100" width="150" height="450" class="swimlane"/>
  <text x="825" y="1120" class="swimlane-title">Admin</text>
  
  <rect x="900" y="1100" width="150" height="450" class="swimlane"/>
  <text x="975" y="1120" class="swimlane-title">System</text>
  
  <rect x="1050" y="1100" width="150" height="450" class="swimlane"/>
  <text x="1125" y="1120" class="swimlane-title">Database</text>
  
  <rect x="1200" y="1100" width="150" height="450" class="swimlane"/>
  <text x="1275" y="1120" class="swimlane-title">Cache</text>
  
  <!-- Admin Dashboard Flow -->
  <ellipse cx="825" cy="1150" rx="40" ry="15" class="start-end"/>
  <text x="825" y="1155" class="text">Start</text>
  
  <rect x="785" y="1180" width="80" height="30" class="activity"/>
  <text x="825" y="1200" class="text">Access Dashboard</text>
  
  <rect x="935" y="1230" width="80" height="30" class="activity"/>
  <text x="975" y="1250" class="text">Check Cache</text>
  
  <polygon points="1250,1280 1300,1295 1250,1310 1200,1295" class="decision"/>
  <text x="1250" y="1300" class="text">Cache Valid?</text>
  
  <rect x="1085" y="1330" width="80" height="30" class="process"/>
  <text x="1125" y="1350" class="text">Aggregate Data</text>
  
  <rect x="935" y="1380" width="80" height="30" class="activity"/>
  <text x="975" y="1400" class="text">Calculate Totals</text>
  
  <rect x="1235" y="1430" width="80" height="30" class="process"/>
  <text x="1275" y="1450" class="text">Update Cache</text>
  
  <rect x="935" y="1480" width="80" height="30" class="activity"/>
  <text x="975" y="1500" class="text">Render Dashboard</text>
  
  <ellipse cx="975" cy="1530" rx="40" ry="15" class="start-end"/>
  <text x="975" y="1535" class="text">End</text>
  
  <!-- Admin Dashboard Flow Lines -->
  <line x1="825" y1="1165" x2="825" y2="1180" class="flow"/>
  <line x1="825" y1="1210" x2="975" y2="1230" class="flow"/>
  <line x1="975" y1="1260" x2="1250" y2="1280" class="flow"/>
  <line x1="1300" y1="1295" x2="1125" y2="1330" class="flow"/>
  <line x1="1125" y1="1360" x2="975" y2="1380" class="flow"/>
  <line x1="975" y1="1410" x2="1275" y2="1430" class="flow"/>
  <line x1="1275" y1="1460" x2="975" y2="1480" class="flow"/>
  <line x1="1200" y1="1295" x2="975" y2="1480" class="flow"/>
  <line x1="975" y1="1510" x2="975" y2="1515" class="flow"/>
  
  <!-- Legend -->
  <rect x="50" y="1600" width="600" height="180" fill="#f5f5f5" stroke="#424242" stroke-width="1"/>
  <text x="350" y="1620" text-anchor="middle" style="fill: #424242; font-family: Arial, sans-serif; font-size: 14px; font-weight: bold;">Activity Diagram Legend</text>
  
  <ellipse cx="100" cy="1650" rx="30" ry="12" class="start-end"/>
  <text x="150" y="1655" style="fill: #424242; font-family: Arial, sans-serif; font-size: 11px;">Start/End Node</text>
  
  <rect x="70" y="1670" width="60" height="20" class="activity"/>
  <text x="150" y="1685" style="fill: #424242; font-family: Arial, sans-serif; font-size: 11px;">Activity/Action</text>
  
  <polygon points="70,1710 120,1720 70,1730 20,1720" class="decision"/>
  <text x="150" y="1725" style="fill: #424242; font-family: Arial, sans-serif; font-size: 11px;">Decision Point</text>
  
  <rect x="70" y="1740" width="60" height="20" class="process"/>
  <text x="150" y="1755" style="fill: #424242; font-family: Arial, sans-serif; font-size: 11px;">Process/Database Operation</text>
  
  <rect x="350" y="1650" width="60" height="20" class="error"/>
  <text x="430" y="1665" style="fill: #424242; font-family: Arial, sans-serif; font-size: 11px;">Error Handling</text>
  
  <rect x="350" y="1680" width="80" height="40" class="swimlane"/>
  <text x="430" y="1705" style="fill: #424242; font-family: Arial, sans-serif; font-size: 11px;">Swimlane (Actor/System)</text>
  
  <line x1="350" y1="1740" x2="410" y2="1740" class="flow"/>
  <text x="430" y="1745" style="fill: #424242; font-family: Arial, sans-serif; font-size: 11px;">Control Flow</text>
  
  <!-- Summary -->
  <text x="800" y="1850" text-anchor="middle" style="fill: #1a237e; font-family: Arial, sans-serif; font-size: 14px; font-weight: bold;">Activity Diagrams Summary</text>
  <text x="800" y="1870" text-anchor="middle" style="fill: #424242; font-family: Arial, sans-serif; font-size: 11px;">Total Processes: 7 | Authentication, Patient Management, Examinations, Statistics, Reports, Dashboard</text>
  <text x="800" y="1890" text-anchor="middle" style="fill: #424242; font-family: Arial, sans-serif; font-size: 11px;">Key Features: Role-based Access, Data Validation, Caching, Error Handling, Real-time Statistics</text>
  
  <!-- System Info -->
  <text x="800" y="1950" text-anchor="middle" style="fill: #1a237e; font-family: Arial, sans-serif; font-size: 12px; font-weight: bold;">Akudihatinya - Health Data Management System</text>
  <text x="800" y="1970" text-anchor="middle" style="fill: #424242; font-family: Arial, sans-serif; font-size: 10px;">Framework: Laravel 11 | Authentication: Sanctum | Database: MySQL | Cache: Redis | Architecture: MVC + Service Layer</text>
</svg>